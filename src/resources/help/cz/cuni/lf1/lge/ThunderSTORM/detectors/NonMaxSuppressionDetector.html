<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title></title>
<!--Generated on Wed Oct 16 14:02:03 2013 by LaTeXML (version 0.7.9alpha) http://dlmf.nist.gov/LaTeXML/.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../../../../../LaTeXML.css" type="text/css">
<link rel="stylesheet" href="../../../../../../ltx-article.css" type="text/css">
<link rel="stylesheet" href="../../../../../../customRules.css" type="text/css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<div class="ltx_document">
<div id="Sx1" class="ltx_section">
<h1 class="ltx_title ltx_title_section">Non-maximum suppression</h1>

<div id="Sx1.p1" class="ltx_para">
<p class="ltx_p">Non-maximum suppression is a way to eliminate all image information
that is not part of the local maxima by setting all non-maximal pixels
to zero. Our implementation is based on morphological gray-scale dilation
defined by the formula</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<table id="Sx1.E1" class="ltx_equation">

<tr class="ltx_equation ltx_align_baseline">
<td class="ltx_eqn_pad"></td>
<td class="ltx_align_center"><img id="Sx1.E1.m1" class="ltx_Math" style="vertical-align:-19px" src="mi/mi12.png" width="445" height="35" alt="\left(F\oplus S\right)\left(x,y\right)=\max_{\left(x^{\prime},y^{\prime}\right%
)\in D_{S}}\left[F\left(x-x^{\prime},y-y^{\prime}\right)+S\left(x^{\prime},y^{%
\prime}\right)\right]\,,"></td>
<td class="ltx_eqn_pad"></td>
<td rowspan="1" class="ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation">(1)</span></td>
</tr>
</table>
<p class="ltx_p">where <img id="Sx1.p2.m1" class="ltx_Math" style="vertical-align:-2px" src="mi/mi6.png" width="18" height="16" alt="F"> is an input image, <img id="Sx1.p2.m2" class="ltx_Math" style="vertical-align:-2px" src="mi/mi14.png" width="15" height="16" alt="S"> is a structuring element, and <img id="Sx1.p2.m3" class="ltx_Math" style="vertical-align:-5px" src="mi/mi13.png" width="29" height="18" alt="D_{S}">
is the domain of <img id="Sx1.p2.m4" class="ltx_Math" style="vertical-align:-2px" src="mi/mi14.png" width="15" height="16" alt="S">. Gray-scale dilation is a more general approach
than the local maximum method described above, because the structuring
element can be of any form in principle.</p>
</div>
<div id="Sx1.p3" class="ltx_para">
<p class="ltx_p">We first perform a gray-scale dilation of the input image using a
structuring element of size <img id="Sx1.p3.m1" class="ltx_Math" style="vertical-align:-3px" src="mi/mi16.png" width="37" height="18" alt="l\times l"> with all entries set to zero,
where <img id="Sx1.p3.m2" class="ltx_Math" style="vertical-align:-2px" src="mi/mi15.png" width="9" height="16" alt="l"> is a dilation radius given by the user. The approximate
molecular positions are extracted by finding pixels in the original
image that have intensities equal to corresponding pixels in the dilated
image and also have an intensity greater than a user-specified threshold.
Essentially, a binary image can be built with all non-maximum pixels
set to zero and with all local maxima set to one.</p>
</div>
</div>
<div id="Sx2" class="ltx_section">
<h1 class="ltx_title ltx_title_section">Threshold</h1>

<div id="Sx2.p1" class="ltx_para">
<p class="ltx_p">Threshold can be specified either as a fixed number or a formula containing
image statistics. You can input the formula as a mathematical expression
using a set of operators, functions and variables. The formula gets
evaluated each time a new frame is processed, so you can have a different
threshold for each frame. This way we can deal with intensity changing
over time and provide some usable default threshold for unknown images.</p>
</div>
<div id="Sx2.SSx1" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">Variables</h2>

<div id="Sx2.SSx1.p1" class="ltx_para">
<p class="ltx_p">Variables are images you can use in your formula, that are obtained
during the filtering operation. There are two variables that are always
present:</p>
<dl id="I1" class="ltx_description">
<dt id="I1.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_description">I</span></dt>
<dd class="ltx_item">
<div id="I1.ix1.p1" class="ltx_para">
<p class="ltx_p">current unfiltered image</p>
</div>
</dd>
<dt id="I1.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_description">F</span></dt>
<dd class="ltx_item">
<div id="I1.ix2.p1" class="ltx_para">
<p class="ltx_p">current filtered image</p>
</div>
</dd>
</dl>
<p class="ltx_p">Filters can provide more image variables. For example wavelet filter
provides all the used wavelet planes.</p>
</div>
<div id="Sx2.SSx1.p2" class="ltx_para">
<p class="ltx_p">Variables from a filter that is not selected can be used too. Then,
the filtering operation will run multiple times: one filtered image
is used for detection and other filtered image is used only to evaluate
the threshold. Prefix the variable with a short name of the filter
and a dot to use a variable from other than the selected filter. For
example the threshold formula</p>
<div id="LSTx1" class="ltx_listingblock ltx_lstlisting ltx_listing">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td"><span class="ltx_text ltx_lst_line ltx_font_typewriter">mean(Med.F)</span></td>
</tr>
</table>
</div>
<p class="ltx_p">will evaluate to the mean value of the image filtered with median
filter even if your selected filter is for example the wavelet filter.</p>
</div>
</div>
<div id="Sx2.SSx2" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">Functions</h2>

<div id="Sx2.SSx2.p1" class="ltx_para">
<p class="ltx_p">The syntax to use the function is the name followed by the argument
in parenthesis:</p>
<div id="LSTx2" class="ltx_listingblock ltx_lstlisting ltx_listing">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td"><span class="ltx_text ltx_lst_line ltx_font_typewriter">name(argument)</span></td>
</tr>
</table>
</div>
</div>
<div id="Sx2.SSx2.p2" class="ltx_para">
<p class="ltx_p">Functions can take both an image or a scalar value (where it is meaningfull)
as an argument. Expression that evaluate to an image or scalar value
can also be used as a function argument.</p>
</div>
<div id="Sx2.SSx2.p3" class="ltx_para">
<p class="ltx_p">The supported functions are:</p>
</div>
<div id="Sx2.SSx2.p4" class="ltx_para">
<table class="ltx_tabular">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">std</span></td>
<td class="ltx_td ltx_align_left">standard deviation</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">mean</span></td>
<td class="ltx_td ltx_align_left">mean intensity in the image</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">median</span></td>
<td class="ltx_td ltx_align_left">median intensity in the image</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">max</span></td>
<td class="ltx_td ltx_align_left">maximum pixel value in the image</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">min</span></td>
<td class="ltx_td ltx_align_left">minimum pixel value in the image</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">sum</span></td>
<td class="ltx_td ltx_align_left">sum of all the pixel values</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">sub</span></td>
<td class="ltx_td ltx_align_left">image with absolute value of each pixel</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="Sx2.SSx3" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">Operators</h2>

<div id="Sx2.SSx3.p1" class="ltx_para">
<p class="ltx_p">Operators can take images or scalars as operands. The behaviour changes
accordingly.</p>
</div>
<div id="Sx2.SSx3.p2" class="ltx_para">
<p class="ltx_p">The supported operators are:</p>
<dl id="I2" class="ltx_description">
<dt id="I2.ix1" class="ltx_item"><span class="ltx_tag ltx_tag_description"><img id="I2.ix1.m1" class="ltx_Math" style="vertical-align:-3px" src="mi/mi3.png" width="17" height="16" alt="+"></span></dt>
<dd class="ltx_item">
<div id="I2.ix1.p1" class="ltx_para">
<p class="ltx_p">addition, element by element for images</p>
</div>
</dd>
<dt id="I2.ix2" class="ltx_item"><span class="ltx_tag ltx_tag_description"><img id="I2.ix2.m1" class="ltx_Math" style="vertical-align:-3px" src="mi/mi4.png" width="17" height="16" alt="-"></span></dt>
<dd class="ltx_item">
<div id="I2.ix2.p1" class="ltx_para">
<p class="ltx_p">subtraction, element by element for images</p>
</div>
</dd>
<dt id="I2.ix3" class="ltx_item"><span class="ltx_tag ltx_tag_description"><img id="I2.ix3.m1" class="ltx_Math" style="vertical-align:-2px" src="mi/mi2.png" width="13" height="12" alt="*"></span></dt>
<dd class="ltx_item">
<div id="I2.ix3.p1" class="ltx_para">
<p class="ltx_p">multiplication, element by element for images</p>
</div>
</dd>
<dt id="I2.ix4" class="ltx_item"><span class="ltx_tag ltx_tag_description"><img id="I2.ix4.m1" class="ltx_Math" style="vertical-align:-6px" src="mi/mi5.png" width="13" height="21" alt="/"></span></dt>
<dd class="ltx_item">
<div id="I2.ix4.p1" class="ltx_para">
<p class="ltx_p">division, element by element for images
</p>
</div>
</dd>
<dt id="I2.ix5" class="ltx_item"><span class="ltx_tag ltx_tag_description">^</span></dt>
<dd class="ltx_item">
<div id="I2.ix5.p1" class="ltx_para">
<p class="ltx_p">exponentiation, the second argument can only
be a scalar</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Oct 16 14:02:03 2013 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div>
</div>
</div>
</body>
</html>
