<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title></title>
<!--Generated by LaTeXML (version 0.7.9alpha) http://dlmf.nist.gov/LaTeXML/.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../../../../../LaTeXML.css" type="text/css">
<link rel="stylesheet" href="../../../../../../ltx-article.css" type="text/css">
<link rel="stylesheet" href="../../../../../../customRules.css" type="text/css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<div class="ltx_document">
<div id="Sx1" class="ltx_section">
<h1 class="ltx_title ltx_title_section">Removing molecules with poor localization</h1>

<div id="Sx1.p1" class="ltx_para">
<p class="ltx_p">ThunderSTORM can remove unwanted molecules according to user-defined
criteria. The criteria is formulated as an expression combining mathematical
and logical functions and operators with parameters from the table
of results obtained from previous data analysis. Users can also display
histograms of particular measured parameters and select thresholds
to define the filtering criteria. All molecules with parameters not
accepted by the criteria are removed.</p>
</div>
<div id="Sx1.SSx1" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">Filter formula syntax</h2>

<div id="Sx1.SSx1.p1" class="ltx_para">
<p class="ltx_p">The filtering criteria can be specified using a formula built-up from
a combination of functions, operators and variables. The result of
the formula must be a vector of boolean values containing 1 for each
row that should stay in the results table and 0 for the rows that
should be deleted.</p>
</div>
<div id="Sx1.SSx1.SSSx1" class="ltx_subsubsection">
<h3 class="ltx_title ltx_title_subsubsection">Variables</h3>

<div id="Sx1.SSx1.SSSx1.p1" class="ltx_para">
<p class="ltx_p">Variable is a vector containing all values from a specified column
in the results table. All columns that are present in the results
table can be used as variables. To use the variable in the filter
formula, simply input the name of the column (without the units in
square brackets).</p>
</div>
</div>
<div id="Sx1.SSx1.SSSx2" class="ltx_subsubsection">
<h3 class="ltx_title ltx_title_subsubsection">Functions</h3>

<div id="Sx1.SSx1.SSSx2.p1" class="ltx_para">
<p class="ltx_p">The syntax to use the function is the name followed by the argument
in parenthesis:</p>
</div>
<div id="Sx1.SSx1.SSSx2.p2" class="ltx_para">
<div id="LSTx1" class="ltx_listingblock ltx_lstlisting ltx_listing">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td"><span class="ltx_text ltx_lst_line ltx_font_typewriter">name(argument)</span></td>
</tr>
</table>
</div>
</div>
<div id="Sx1.SSx1.SSSx2.p3" class="ltx_para">
<p class="ltx_p">Functions can take both a vector or a scalar value (where it is meaningfull)
as an argument. Expressions that evaluate to a vector or a scalar
value can also be used. The supported functions are:</p>
</div>
<div id="Sx1.SSx1.SSSx2.p4" class="ltx_para">
<table class="ltx_tabular">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">std</span></td>
<td class="ltx_td ltx_align_left">standard deviation</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">mean</span></td>
<td class="ltx_td ltx_align_left">mean value</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">median</span></td>
<td class="ltx_td ltx_align_left">median value</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">max</span></td>
<td class="ltx_td ltx_align_left">maximum value</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">min</span></td>
<td class="ltx_td ltx_align_left">minimum value</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">sum</span></td>
<td class="ltx_td ltx_align_left">sum of all the values</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">abs</span></td>
<td class="ltx_td ltx_align_left">absoulte value</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="Sx1.SSx1.SSSx3" class="ltx_subsubsection">
<h3 class="ltx_title ltx_title_subsubsection">Operators</h3>

<div id="Sx1.SSx1.SSSx3.p1" class="ltx_para">
<p class="ltx_p">There are two types of operators: arithmetic and logical.
</p>
</div>
<div id="Sx1.SSx1.SSSx3.p2" class="ltx_para">
<p class="ltx_p">Arithmetic operators can take numeric vectors or scalars as operands.
The behaviour changes accordingly. The output of arithmetic operators
is a numeric vector if at least one of the operands is a vector, or
a scalar if both operands are scalar. The supported arithmetic operators
are:</p>
</div>
<div id="Sx1.SSx1.SSSx3.p3" class="ltx_para">
<table class="ltx_tabular">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">+</span></td>
<td class="ltx_td ltx_align_left">addition, element by element for vectors</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">-</span></td>
<td class="ltx_td ltx_align_left">subtraction, element by element for vectors</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">*</span></td>
<td class="ltx_td ltx_align_left">multiplication, element by element for vectors</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">/</span></td>
<td class="ltx_td ltx_align_left">division, element by element for vectors</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">^</span></td>
<td class="ltx_td ltx_align_left">exponentiation, the second argument can only be a scalar</td>
</tr>
</tbody>
</table>
</div>
<div id="Sx1.SSx1.SSSx3.p4" class="ltx_para">
<p class="ltx_p">Logical operators perform logical operations on vectors. All these
operations are performed element-wise. The output is a vector of boolean
values. The supported logical operators are:</p>
</div>
<div id="Sx1.SSx1.SSSx3.p5" class="ltx_para">
<table class="ltx_tabular">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">&amp;</span></td>
<td class="ltx_td ltx_align_left">logical and</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">|</span></td>
<td class="ltx_td ltx_align_left">logical or</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">!</span></td>
<td class="ltx_td ltx_align_left">negation (unary)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">&lt;</span></td>
<td class="ltx_td ltx_align_left">smaller than</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">&gt;</span></td>
<td class="ltx_td ltx_align_left">greater than</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting">=</span></td>
<td class="ltx_td ltx_align_left">equals</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lstlisting">!=</span></td>
<td class="ltx_td ltx_align_left">not equals</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="Sx1.SSx2" class="ltx_subsection">
<h2 class="ltx_title ltx_title_subsection">Examples of filter formulas</h2>

<div id="Sx1.SSx2.p1" class="ltx_para">
<ul id="I1" class="ltx_itemize">
<li id="I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">sigma<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>15</span></p>
</div>
</li>
<li id="I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">frame<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>1000<span class="ltx_text ltx_lst_space"> </span>|<span class="ltx_text ltx_lst_space"> </span>frame<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>200</span></p>
</div>
</li>
<li id="I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">intensity<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_space"> </span>uncertainty<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>2</span></p>
</div>
</li>
<li id="I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">(x<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>5000<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_space"> </span>x<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>10000<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_space"> </span>y<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>5000<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_space"> </span>y<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>10000)</span></p>
</div>
</li>
<li id="I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lstlisting ltx_font_typewriter">(x-10000)^2<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span>(y-10000)^2<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>2000^2</span></p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="ltx_page_footer">
<div class="ltx_page_logo">Generated  by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div>
</div>
</div>
</body>
</html>
